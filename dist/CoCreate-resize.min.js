!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CoCreateResize=e():t.CoCreateResize=e()}(this,(function(){return(()=>{"use strict";var t={366:(t,e,i)=>{function s(t){this.callbackMap=new Map,this.callbackMap.set("ALL",{attributes:[],addedNodes:[],removedNodes:[],characterData:[],childList:[]});let[e,i]=this.runCallbackGen("attributes");this.runCallbackAtt=e,this.runCallbackAttAll=i,[e,i]=this.runCallbackGen("characterData"),this.runCallbackChar=e,this.runCallbackCharAll=i,this.runCallbackAdd=this.runCallbackExGen("addedNodes","addedNodes"),this.runCallbackRemove=this.runCallbackExGen("removedNodes","removedNodes");new MutationObserver((t=>this._callback.call(this,t))).observe(t,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0})}i.r(e),i.d(e,{default:()=>a}),window.counter=0;const r=["addedNodes","removedNodes","attributes","characterData","childList"];s.prototype.init=function({observe:t=["addedNodes","attributes"],attributeFilter:e,callback:i}){if(!t||!t.every((t=>r.includes(t))))throw"please enter a valid observe";if(this.observe=t,this.callback=i,e&&e.length)for(let t of e)this._register(t.toLowerCase());else this._register("ALL")},s.prototype._register=function(t){for(let e of this.observe)"childList"!==e?this.callbackMap.has(t)?this.callbackMap.get(t)[e]?this.callbackMap.get(t)[e].push(this.callback):this.callbackMap.get(t)[e]=[this.callback]:this.callbackMap.set(t,{[e]:[this.callback]}):this.callbackMap.get("ALL").childList&&this.callbackMap.get("ALL").childList.push(this.callback)},s.prototype.uninit=function(t){for(let[e,i]of this.callbackMap.entries())i.attributes&&(i.attributes=i.attributes.filter((e=>e!==t))),i.characterData&&(i.characterData=i.characterData.filter((e=>e!==t))),i.addedNodes&&(i.addedNodes=i.addedNodes.filter((e=>e!==t))),i.removedNodes&&(i.removedNodes=i.removedNodes.filter((e=>e!==t))),i.childList&&(i.childList=i.childList.filter((e=>e!==t))),this.callbackMap.set(e,{attributes:i.attributes,characterData:i.characterData,addedNodes:i.addedNodes,removedNodes:i.removedNodes,childList:i.childList})},s.prototype._callback=function(t){for(let e of t)switch(window.counter++,e.type){case"attributes":this._attributeCallback(e);break;case"characterData":this._characterDataCallback(e);break;case"childList":this._childListCallback(e)}},s.prototype.runCallbackGen=function(t){return[function(e,i){let s=this.callbackMap.get(i);if(s&&s[t])for(let i of s[t])i(e)},function(e){for(let i of this.callbackMap.get("ALL")[t])i(e)}]},s.prototype._attributeCallback=function(t){if(!t.target.hasAttributes(t.attributeName))return;t.target.getAttribute(t.attributeName)!==t.oldValue&&(this.runCallbackAtt(t,t.attributeName),this.runCallbackAttAll(t))},s.prototype._characterDataCallback=function(t){if(t.target.data===t.oldValue)return;this.runCallbackCharAll(t);let e=t.target.parentElement;for(let i of e.attributes)this.runCallbackChar(t,i.name)},s.prototype.runCallbackExGen=function(t,e){return function i(s){for(let r of s[e]){if(r.tagName)for(let e of r.attributes){let i=this.callbackMap.get(e.name);if(i&&i[t])for(let e of i[t])e({type:s.type,target:r,[t]:!0})}r.children&&i.call(this,{[e]:r.children})}for(let i of this.callbackMap.get("ALL")[t])for(let r of s[e])r.tagName&&i({type:s.type,target:r,[t]:!0})}},s.prototype._childList=function(t){this.callbackMap.get("ALL").childList.forEach((e=>{e(t)}))},s.prototype._childListCallback=function(t){this._childList(t),this.runCallbackAdd(t),this.runCallbackRemove(t)},s.prototype.setInitialized=function(t,e){t["co_initialized_"+(e=e||"")]=!0},s.prototype.getInitialized=function(t,e){return!!t["co_initialized_"+(e=e||"")]};const a=new s(document.body)},127:(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var s=i(483),r=i.n(s);const a=i.p+"5a4a107d197aa663a3a6180e29f1a87c.css";var n={injectType:"linkTag",insert:"head"};r()(a,n);const o={}},483:(t,e,i)=>{var s,r=(s={},function(t){if(void 0===s[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}s[t]=e}return s[t]});t.exports=function(t,e){if((e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},void 0===e.attributes.nonce){var s=i.nc;s&&(e.attributes.nonce=s)}var a=document.createElement("link");if(a.rel="stylesheet",a.href=t,Object.keys(e.attributes).forEach((function(t){a.setAttribute(t,e.attributes[t])})),"function"==typeof e.insert)e.insert(a);else{var n=r(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(a)}return function(t){"string"==typeof t?a.href=t:a.parentNode.removeChild(a)}}}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,i),a.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");s.length&&(t=s[s.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})();var s={};return(()=>{var t=s;t.default=void 0;var e,r=(e=i(366))&&e.__esModule?e:{default:e};i(127);const a=["mousemove touchmove","mousedown touchstart","mouseup touchend"],n=["left","right","top","bottom"],o={selector:"",resizers:[],resizeWidgets:[],init:function(t){for(var e in t)t.hasOwnProperty(e)&&"selector"==e&&(this.selector=t[e]);this.resizers=document.querySelectorAll(this.selector);var i=this;this.resizers.forEach((function(e,s){let r=new h(e,t);i.resizeWidgets[s]=r}))},initElement:function(t){let e=new h(t,{dragLeft:"[data-resize='left']",dragRight:"[data-resize='right']",dragTop:"[data-resize='top']",dragBottom:"[data-resize='bottom']"});this.resizeWidgets[0]=e}};function h(t,e){this.resizeWidget=t,this.cornerSize=10,this.init(e)}h.prototype={init:function(t){this.resizeWidget&&(this.initDrags=[],this.checkCorners=[],this.doDrags=[],this.Drags=[],this.gridWidth=0,this.gridHeight=0,this.missingWidth=0,this.missingHeight=0,this.limitSpan=0,this.widthSpan=0,this.heightSpan=0,this.originClassAttribute=this.resizeWidget.getAttribute("class"),n.map((e=>{this.Drags[e]=this.resizeWidget.querySelector(t["drag"+e.charAt(0).toUpperCase()+e.slice(1)])})),this.bindListeners(),this.initResize(),this.getGridProperty(),window.addEventListener("resize",this.checkGridColumns.bind(this)))},getGridProperty:function(){let t=window.getComputedStyle(this.resizeWidget.parentNode),e=window.getComputedStyle(this.resizeWidget),i=t.gridTemplateColumns,s=t.gridAutoRows;if("none"!==i){let r=i.split(" ");this.limitSpan=r.length,this.gridWidth=Number.parseFloat(r[0])+Number.parseInt(t.gridColumnGap),this.gridHeight=Number.parseInt(s)+Number.parseInt(t.gridRowGap),this.missingWidth=Number.parseInt(e.paddingRight)+Number.parseInt(e.paddingLeft)+Number.parseInt(e.marginRight)+Number.parseInt(e.marginLeft)+Number.parseInt(e.borderRight)+Number.parseInt(e.borderLeft),this.missingHeight=Number.parseInt(e.paddingTop)+Number.parseInt(e.paddingBottom)+Number.parseInt(e.marginTop)+Number.parseInt(e.marginBottom)+Number.parseInt(e.borderTop)+Number.parseInt(e.borderBottom)}},checkGridColumns:function(){if(void 0!==this.resizeWidget&&this.resizeWidget.parentNode){let t=window.getComputedStyle(this.resizeWidget.parentNode),e=0,i=t.gridTemplateColumns.split(" "),s=i[0];if(i.map((t=>{t==s&&e++})),this.limitSpan=e,this.resizeWidget.style["grid-column-end"]){let t=this.resizeWidget.getAttribute("class").split(" "),e=t[t.length-1].split("_"),i=Number.parseInt(e[1]),s=this.resizeWidget.style["grid-column-end"].split(" "),r=Number.parseInt(s[1]),a=0;a=this.limitSpan>=i?i:i>this.limitSpan?this.limitSpan:Math.min(r,this.limitSpan),this.resizeWidget.style["grid-column-end"]="span "+a}}},initResize:function(){n.map((t=>{this.Drags[t]&&this.addListenerMulti(this.Drags[t],a[0],this.checkCorners[t])}))},checkDragImplementation:function(t,e,i,s,r,n){t.touches&&(t=t.touches[0]),this.removeListenerMulti(this.Drags[e],a[1],this.initDrags[e]),this.removeListenerMulti(this.Drags[e],a[1],this.initDrags[i]),this.addListenerMulti(this.Drags[e],a[1],this.initDrags[e]),s<this.cornerSize&&this.Drags[i]?(this.Drags[e].style.cursor=r,this.addListenerMulti(this.Drags[e],a[1],this.initDrags[i])):this.Drags[e].style.cursor=n},initDrag:function(t,e){let i=document.defaultView.getComputedStyle(this.resizeWidget);this.processIframe(),"top"==e||"bottom"==e?(this.startTop=parseInt(i.top,10),this.startHeight=parseInt(i.height,10),t.touches?this.startY=t.touches[0].clientY:this.startY=t.clientY):(this.startLeft=parseInt(i.left,10),this.startWidth=parseInt(i.width,10),t.touches?this.startX=t.touches[0].clientX:this.startX=t.clientX),this.addListenerMulti(document.documentElement,a[0],this.doDrags[e]),this.addListenerMulti(document.documentElement,a[2],this.stopDrag)},initTopDrag:function(t){this.initDrag(t,"top")},initBottomDrag:function(t){this.initDrag(t,"bottom")},initLeftDrag:function(t){this.initDrag(t,"left")},initRightDrag:function(t){this.initDrag(t,"right")},setRowEnd:function(t){this.gridHeight&&(this.heightSpan=Math.ceil((t+this.missingHeight)/this.gridHeight),this.resizeWidget.style["grid-row-end"]="span "+this.heightSpan)},doTopDrag:function(t){let e,i;t.touches&&(t=t.touches[0]),e=this.startTop+t.clientY-this.startY,i=this.startHeight-t.clientY+this.startY,e<10||i<10||(this.resizeWidget.style.top=e+"px",this.resizeWidget.style.height=i+"px",this.setRowEnd(i))},doBottomDrag:function(t){let e=0;t.touches&&(t=t.touches[0]),e=this.startHeight+t.clientY-this.startY,e<10||(this.resizeWidget.style.height=e+"px",this.setRowEnd(e))},setColumnEnd:function(t){if(this.gridWidth){let e=Math.ceil((t+this.missingWidth)/this.gridWidth);this.widthSpan=e>this.limitSpan?this.limitSpan:e,this.resizeWidget.style["grid-column-end"]="span "+this.widthSpan}},doLeftDrag:function(t){let e,i;t.touches&&(t=t.touches[0]),e=this.startLeft+t.clientX-this.startX,i=this.startWidth-t.clientX+this.startX,i<10||(this.resizeWidget.style.left=e+"px",this.resizeWidget.style.width=i+"px",this.setColumnEnd(i))},doRightDrag:function(t){let e=0;t.touches&&(t=t.touches[0]),e=this.startWidth+t.clientX-this.startX,e<10||(this.resizeWidget.style.width=e+"px",this.setColumnEnd(e))},detectGrid:function(){return"grid"===window.getComputedStyle(this.resizeWidget.parentNode).display},stopDrag:function(t){this.resizeWidget.querySelectorAll("iframe").forEach((function(t){t.style.pointerEvents=null})),this.detectGrid()&&(this.resizeWidget.style.width=null,this.resizeWidget.style.height=null,this.resizeWidget.style.left=null,this.resizeWidget.style.top=null,this.widthSpan&&this.resizeWidget.setAttribute("class",this.originClassAttribute+" grid-column-end:span_"+this.widthSpan),this.heightSpan&&this.resizeWidget.setAttribute("class",this.originClassAttribute+" grid-row-end:span_"+this.heightSpan)),n.map((t=>{this.removeListenerMulti(document.documentElement,a[0],this.doDrags[t])})),this.removeListenerMulti(document.documentElement,a[2],this.stopDrag)},checkLeftDragTopCorner:function(t){const e=t.clientY-this.getDistance(this.Drags.left,!0)+document.documentElement.scrollTop;this.checkDragImplementation(t,"left","top",e,"se-resize","e-resize")},checkTopDragRightCorner:function(t){const e=this.getDistance(this.Drags.right,!1)-t.clientX-document.documentElement.scrollLeft;this.checkDragImplementation(t,"top","right",e,"ne-resize","s-resize")},checkBottomDragLeftCorner:function(t){const e=t.clientX-this.getDistance(this.Drags.bottom,!1)+document.documentElement.scrollLeft;this.checkDragImplementation(t,"bottom","left",e,"ne-resize","s-resize")},checkRightDragBottomCorner:function(t){const e=this.getDistance(this.Drags.bottom,!0)-t.clientY-document.documentElement.scrollTop;this.checkDragImplementation(t,"right","bottom",e,"se-resize","e-resize")},bindListeners:function(){this.doDrags.left=this.doLeftDrag.bind(this),this.doDrags.top=this.doTopDrag.bind(this),this.doDrags.right=this.doRightDrag.bind(this),this.doDrags.bottom=this.doBottomDrag.bind(this),this.stopDrag=this.stopDrag.bind(this),this.checkCorners.left=this.checkLeftDragTopCorner.bind(this),this.checkCorners.top=this.checkTopDragRightCorner.bind(this),this.checkCorners.bottom=this.checkBottomDragLeftCorner.bind(this),this.checkCorners.right=this.checkRightDragBottomCorner.bind(this),this.initDrags.top=this.initTopDrag.bind(this),this.initDrags.left=this.initLeftDrag.bind(this),this.initDrags.bottom=this.initBottomDrag.bind(this),this.initDrags.right=this.initRightDrag.bind(this)},getDistance:function(t,e){var i=0;if(t.offsetParent)do{i+=e?t.offsetTop:t.offsetLeft,t=t.offsetParent}while(t);return i>=0?i:0},addListenerMulti:function(t,e,i){for(var s=e.split(" "),r=0,a=s.length;r<a;r++)t.addEventListener(s[r],i,!1)},removeListenerMulti:function(t,e,i){for(var s=e.split(" "),r=0,a=s.length;r<a;r++)t.removeEventListener(s[r],i,!1)},processIframe:function(){this.resizeWidget.querySelectorAll("iframe").forEach((function(t){t.style.pointerEvents="none"}))}},r.default.init({name:"CoCreateResize",observe:["addedNodes"],callback:function(t){o.initElement(t.target)}}),o.init({selector:".resize",dragLeft:"[data-resize='left']",dragRight:"[data-resize='right']",dragTop:"[data-resize='top']",dragBottom:"[data-resize='bottom']"});var l=o;t.default=l})(),s=s.default})()}));